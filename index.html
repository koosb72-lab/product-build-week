<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°, ì €ë…ë©”ë‰´ ì¶”ì²œ, ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸, ì˜¤ëŠ˜ì˜ íƒ€ë¡œì™€ í•¨ê»˜ í–‰ìš´ ê°€ì´ë“œë¥¼ ì œê³µí•˜ëŠ” ì •ë³´í˜• ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://koosb72-lab.github.io/product-build-week/" />
  <meta name="google-adsense-account" content="ca-pub-7981059984083694" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7981059984083694" crossorigin="anonymous"></script>
  <title>í–‰ìš´ì˜ ë„êµ¬í•¨ | Product Build Week</title>
  <style>
    :root{
      --bg1:#070a18;
      --bg2:#0b1020;
      --card: rgba(255,255,255,0.06);
      --line: rgba(255,255,255,0.14);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);
      --shadow: 0 14px 45px rgba(0,0,0,0.35);
      --radius: 18px;
      --sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
      --primary: #7c5cff;
      --secondary: #2dd4bf;
      --gold: #ffd700;
    }

    body.light{
      --bg1:#f4f6fb;
      --bg2:#e9edf7;
      --card: rgba(255,255,255,0.92);
      --line: rgba(0,0,0,0.10);
      --text: rgba(0,0,0,0.88);
      --muted: rgba(0,0,0,0.60);
      --shadow: 0 10px 30px rgba(0,0,0,0.10);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0; min-height:100vh;
      font-family: var(--sans);
      color: var(--text);
      background: linear-gradient(180deg, var(--bg1), var(--bg2) 40%, var(--bg1));
      transition: background .25s ease, color .25s ease;
    }
    .container{ max-width: 980px; margin:0 auto; padding: 20px 16px 80px; }

    header{
      position: sticky; top:0; z-index: 100;
      padding: 12px 16px; backdrop-filter: blur(12px);
      background: rgba(6,8,22,0.7); border-bottom: 1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between;
    }
    body.light header{ background: rgba(255,255,255,0.8); }

    .brand{ display:flex; align-items:center; gap:10px; font-weight:900; }
    .logo{ width: 32px; height: 32px; border-radius: 10px; background: linear-gradient(135deg, var(--primary), var(--secondary)); }
    .chip{ padding: 6px 12px; border: 1px solid var(--line); background: rgba(255,255,255,0.05); border-radius: 999px; font-size: 13px; color: var(--text); cursor:pointer; text-decoration:none; }
    .theme-toggle{ padding: 6px 10px; border: 1px solid var(--line); background: rgba(255,255,255,0.05); border-radius: 999px; cursor: pointer; }

    .card{ margin-top: 18px; background: var(--card); border: 1px solid var(--line); border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); }
    .view.hidden{ display:none; }

    /* íƒ€ë¡œ 3ì¹´ë“œ ìŠ¤í”„ë ˆë“œ ìŠ¤íƒ€ì¼ */
    .tarot-deck {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
      gap: 10px; margin: 20px 0; justify-items: center;
    }
    .deck-card {
      width: 60px; height: 100px; background: linear-gradient(45deg, #2c3e50, #000);
      border: 1px solid var(--line); border-radius: 6px; cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s; position: relative;
    }
    .deck-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(124,92,255,0.4); }
    .deck-card.selected { border: 2px solid var(--gold); transform: translateY(-10px); box-shadow: 0 0 15px var(--gold); }
    .deck-card.selected::after {
      content: attr(data-order); position: absolute; top: -10px; right: -10px;
      background: var(--gold); color: #000; width: 20px; height: 20px;
      border-radius: 50%; font-size: 12px; font-weight: 900; display: flex; align-items: center; justify-content: center;
    }

    .tarot-result-grid {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 30px;
    }
    .result-card-item { text-align: center; }
    .result-card-label { font-size: 13px; color: var(--gold); margin-bottom: 8px; font-weight: bold; }
    
    .tarot-card {
      width: 100%; aspect-ratio: 2/3.5; position: relative; transform-style: preserve-3d;
      transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); margin-bottom: 15px;
    }
    .tarot-card.flipped { transform: rotateY(180deg); }
    .tarot-card-front, .tarot-card-back {
      position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
      border-radius: 10px; border: 2px solid var(--line); display: flex; flex-direction: column; align-items: center; justify-content: center;
    }
    .tarot-card-back { background: linear-gradient(45deg, #2c3e50, #000); }
    .tarot-card-front { background: linear-gradient(135deg, #1a1a2e, #16213e); transform: rotateY(180deg); border-color: var(--gold); }
    .tarot-icon { font-size: 40px; margin-bottom: 10px; }
    .tarot-name { font-size: 14px; font-weight: 900; color: var(--gold); }

    .tarot-meaning-box {
      margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.03);
      border-radius: 12px; border: 1px solid var(--line); font-size: 14px; line-height: 1.6; text-align: left;
    }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .btn {
      padding: 10px 20px; border-radius: 12px; border: 1px solid var(--line);
      background: rgba(255,255,255,0.06); color: var(--text); font-weight: bold; cursor: pointer; transition: 0.2s;
    }
    .btn.primary { background: linear-gradient(135deg, var(--primary), var(--secondary)); border: none; color: white; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }

    .balls { display: flex; flex-wrap: wrap; gap: 8px; margin: 15px 0; min-height: 50px; }
    .ball {
      width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-weight: 900; color: #111; box-shadow: 0 4px 10px rgba(0,0,0,0.3); opacity: 0; animation: pop 0.3s forwards;
    }
    @keyframes pop { to { opacity: 1; transform: scale(1); } }
    .ball.yellow { background: #fbc400; }
    .ball.blue   { background: #69c8f2; }
    .ball.red    { background: #ff7272; }
    .ball.gray   { background: #aaaaaa; }
    .ball.green  { background: #b0d840; }

    @media (max-width: 600px) {
      .tarot-result-grid { grid-template-columns: 1fr; }
      .tarot-card { width: 120px; margin: 0 auto 15px; }
    }
  </style>
</head>

<body>
<header>
  <div class="brand" onclick="openLottoView()" style="cursor:pointer;">
    <div class="logo"></div>
    <div id="brandTitle">í–‰ìš´ì˜ ë„êµ¬í•¨</div>
  </div>
  <div style="display:flex; gap:6px;">
    <button class="chip" id="tarotNav">ğŸ”® íƒ€ë¡œ</button>
    <button class="chip" id="dinnerNav">ğŸ½ ì‹ì‚¬</button>
    <button class="chip" id="animalNav">ğŸ¶ ë™ë¬¼ìƒ</button>
    <button class="theme-toggle" id="themeToggle">â˜€</button>
    <button class="chip" id="langToggle">EN</button>
  </div>
</header>

<main class="container">
  <!-- ë¡œë˜ ë·° -->
  <div class="view" id="lottoView">
    <section class="card">
      <h1 id="lottoTitle">ë¡œë˜ ë²ˆí˜¸ ì¶”ì²¨</h1>
      <p class="sub">1~45 ì‚¬ì´ì˜ ì¤‘ë³µ ì—†ëŠ” 6ê°œ ìˆ«ìë¥¼ ë½‘ìŠµë‹ˆë‹¤.</p>
      <div class="controls">
        <button class="btn primary" id="drawBtn">ğŸ² ë²ˆí˜¸ ë½‘ê¸°</button>
        <button class="btn" id="copyBtn">ğŸ“‹ ë³µì‚¬í•˜ê¸°</button>
      </div>
      <div class="balls" id="balls"></div>
    </section>
    <section class="card">
      <h2 id="historyTitle">ìµœê·¼ ê¸°ë¡</h2>
      <div id="historyList"></div>
    </section>
  </div>

  <!-- íƒ€ë¡œ ë·° -->
  <div class="view hidden" id="tarotView">
    <section class="card" style="text-align:center;">
      <h1 id="tarotTitle">AI 3ì¹´ë“œ íƒ€ë¡œ ìŠ¤í”„ë ˆë“œ</h1>
      <p id="tarotSub" class="sub">ë§ˆìŒì„ ë¹„ìš°ê³  ì•„ë˜ì˜ ì¹´ë“œ ì¤‘ <b>3ì¥</b>ì„ ìˆœì„œëŒ€ë¡œ ì„ íƒí•´ ì£¼ì„¸ìš”.</p>
      
      <div class="tarot-deck" id="tarotDeck">
        <!-- 22ì¥ì˜ ì¹´ë“œê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ìƒì„±ë¨ -->
      </div>

      <div id="tarotActionArea" style="margin-top:20px;">
        <button class="btn primary" id="revealBtn" disabled>ğŸ”® ìš´ëª… í™•ì¸í•˜ê¸°</button>
        <button class="btn" id="tarotResetBtn">ğŸ§¹ ë‹¤ì‹œ ì„ íƒ</button>
      </div>

      <div class="tarot-result-area view hidden" id="tarotResultArea">
        <div class="tarot-result-grid">
          <div class="result-card-item">
            <div class="result-card-label" id="labelPast">ê³¼ê±° / ìƒí™©</div>
            <div class="tarot-card" id="card0">
              <div class="tarot-card-back"></div>
              <div class="tarot-card-front"><div class="tarot-icon"></div><div class="tarot-name"></div></div>
            </div>
            <div class="tarot-meaning-box" id="meaning0"></div>
          </div>
          <div class="result-card-item">
            <div class="result-card-label" id="labelPresent">í˜„ì¬ / ì¡°ì–¸</div>
            <div class="tarot-card" id="card1">
              <div class="tarot-card-back"></div>
              <div class="tarot-card-front"><div class="tarot-icon"></div><div class="tarot-name"></div></div>
            </div>
            <div class="tarot-meaning-box" id="meaning1"></div>
          </div>
          <div class="result-card-item">
            <div class="result-card-label" id="labelFuture">ë¯¸ë˜ / ê²°ê³¼</div>
            <div class="tarot-card" id="card2">
              <div class="tarot-card-back"></div>
              <div class="tarot-card-front"><div class="tarot-icon"></div><div class="tarot-name"></div></div>
            </div>
            <div class="tarot-meaning-box" id="meaning2"></div>
          </div>
        </div>
        <button class="btn primary" style="margin-top:30px;" onclick="initTarotDeck()">ğŸ´ ìƒˆ ì  ë³´ê¸°</button>
      </div>
    </section>
  </div>

  <!-- ë©”ë‰´ ì¶”ì²œ ë·° -->
  <div class="view hidden" id="dinnerView">
    <section class="card" style="text-align:center;">
      <h1 id="dinnerTitle">ì˜¤ëŠ˜ ì €ë… ë©”ë‰´ ì¶”ì²œ</h1>
      <div style="display:flex; justify-content:center; gap:8px; margin:15px 0;">
        <button class="chip" onclick="pickDinner('korean')">í•œì‹</button>
        <button class="chip" onclick="pickDinner('japanese')">ì¼ì‹</button>
        <button class="chip" onclick="pickDinner('western')">ì–‘ì‹</button>
        <button class="chip" onclick="pickDinner('all')">ëœë¤</button>
      </div>
      <div id="dinnerImage" style="font-size:80px; margin:20px 0;">ğŸ½</div>
      <div id="dinnerMenu" style="font-size:24px; font-weight:900;">ì¶”ì²œì„ ì‹œì‘í•˜ì„¸ìš”</div>
      <p id="dinnerReason" style="color:var(--muted); margin-top:10px;"></p>
    </section>
  </div>

  <!-- ê°€ì´ë“œ ë§í¬ -->
  <section class="card" id="guides">
    <h2 id="guideTitle">ì§€ì‹ ê°€ì´ë“œ</h2>
    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
      <a href="./guide-lotto.html" class="chip" style="text-align:center;">ë¡œë˜ì™€ í™•ë¥ </a>
      <a href="./guide-tarot.html" class="chip" style="text-align:center;">íƒ€ë¡œì˜ ì‹¬ë¦¬í•™</a>
      <a href="./guide-dinner.html" class="chip" style="text-align:center;">ë©”ë‰´ ì„ íƒ ì¥ì• </a>
      <a href="./guide-animal-test.html" class="chip" style="text-align:center;">AI ì´ë¯¸ì§€ ì¸ì‹</a>
    </div>
  </section>

  <footer class="site-footer">
    <div class="footer-links">
      <a href="./about.html">ì†Œê°œ</a> | <a href="./privacy.html">ê°œì¸ì •ë³´</a> | <a href="./terms.html">ì•½ê´€</a>
    </div>
    <p style="font-size:11px; margin-top:10px;">Â© 2026 Product Build Week. All tools are for entertainment only.</p>
  </footer>
</main>

<div id="toast" style="position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.8); color:white; padding:8px 16px; border-radius:20px; display:none; z-index:1000;"></div>

<script>
  const $ = (id) => document.getElementById(id);
  let currentLang = localStorage.getItem("lang") || "ko";
  let selectedCards = [];

  const TAROT_DATA = [
    { image: "ğŸƒ", koName: "ë°”ë³´", enName: "The Fool", koMeaning: "ìƒˆë¡œìš´ ì‹œì‘ê³¼ ëª¨í—˜. ë‘ë ¤ì›€ ì—†ì´ ë‚˜ì•„ê°€ì„¸ìš”.", enMeaning: "New beginnings and adventure. Step forward without fear." },
    { image: "ğŸª„", koName: "ë§ˆë²•ì‚¬", enName: "The Magician", koMeaning: "ì ì¬ë ¥ê³¼ ì°½ì˜ì„±. ë‹¹ì‹ ì˜ ëŠ¥ë ¥ì„ ë°œíœ˜í•  ë•Œì…ë‹ˆë‹¤.", enMeaning: "Potential and creativity. Time to use your skills." },
    { image: "ğŸ“–", koName: "ì—¬ì‚¬ì œ", enName: "High Priestess", koMeaning: "ì§ê´€ê³¼ ì§€í˜œ. ë‚´ë©´ì˜ ëª©ì†Œë¦¬ì— ê·€ë¥¼ ê¸°ìš¸ì´ì„¸ìš”.", enMeaning: "Intuition and wisdom. Listen to your inner voice." },
    { image: "ğŸ‘‘", koName: "ì—¬í™©ì œ", enName: "The Empress", koMeaning: "í’ìš”ì™€ ê²°ì‹¤. ì£¼ë³€ê³¼ ë”°ëœ»í•¨ì„ ë‚˜ëˆ„ì„¸ìš”.", enMeaning: "Abundance and fertility. Share warmth with others." },
    { image: "ğŸ›ï¸", koName: "í™©ì œ", enName: "The Emperor", koMeaning: "ê¶Œìœ„ì™€ ì§ˆì„œ. ì²´ê³„ì ì¸ ê³„íšì´ í•„ìš”í•©ë‹ˆë‹¤.", enMeaning: "Authority and structure. Solid planning is needed." },
    { image: "â›ª", koName: "êµí™©", enName: "The Hierophant", koMeaning: "ì „í†µê³¼ ì¡°ì–¸. ìŠ¤ìŠ¹ì´ë‚˜ ì„ ë°°ì˜ ì§€í˜œë¥¼ êµ¬í•˜ì„¸ìš”.", enMeaning: "Tradition and advice. Seek wisdom from elders." },
    { image: "â¤ï¸", koName: "ì—°ì¸", enName: "The Lovers", koMeaning: "ì„ íƒê³¼ ì¡°í™”. ì§„ì‹¬ ì–´ë¦° ì†Œí†µì´ ì¤‘ìš”í•©ë‹ˆë‹¤.", enMeaning: "Choices and harmony. Sincere communication is key." },
    { image: "âš”ï¸", koName: "ì „ì°¨", enName: "The Chariot", koMeaning: "ì˜ì§€ì™€ ìŠ¹ë¦¬. ì¥ì• ë¬¼ì„ ëš«ê³  ì „ì§„í•˜ì„¸ìš”.", enMeaning: "Willpower and victory. Push through obstacles." },
    { image: "âš–ï¸", koName: "ì •ì˜", enName: "Justice", koMeaning: "ê· í˜•ê³¼ ì§„ì‹¤. ê³µì •í•œ íŒë‹¨ì´ ìš”êµ¬ë˜ëŠ” ì‹œê¸°ì…ë‹ˆë‹¤.", enMeaning: "Balance and truth. Fair judgment is required." },
    { image: "ğŸ§˜", koName: "ì€ë‘”ì", enName: "The Hermit", koMeaning: "ì„±ì°°ê³¼ ê³ ë…. í˜¼ìë§Œì˜ ì‹œê°„ì´ ë‹µì„ ì¤ë‹ˆë‹¤.", enMeaning: "Reflection and solitude. Inner time brings answers." },
    { image: "ğŸ¡", koName: "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´", enName: "Wheel of Fortune", koMeaning: "ë³€í™”ì™€ í–‰ìš´. ë‹¤ê°€ì˜¤ëŠ” ê¸°íšŒë¥¼ ì¡ìœ¼ì„¸ìš”.", enMeaning: "Change and luck. Catch the upcoming opportunity." },
    { image: "ğŸ’ª", koName: "í˜", enName: "Strength", koMeaning: "ì¸ë‚´ì™€ ìš©ê¸°. ë¶€ë“œëŸ¬ìš´ í˜ì´ ê°•í•¨ì„ ì´ê¹ë‹ˆë‹¤.", enMeaning: "Patience and courage. Soft power overcomes hardness." },
    { image: "ğŸ‘£", koName: "ë§¤ë‹¬ë¦° ì‚¬ëŒ", enName: "Hanged Man", koMeaning: "í¬ìƒê³¼ ìƒˆë¡œìš´ ê´€ì . ë‹¤ë¥´ê²Œ ìƒê°í•´ë³´ì„¸ìš”.", enMeaning: "Sacrifice and perspective. Think differently." },
    { image: "ğŸ’€", koName: "ì£½ìŒ", enName: "Death", koMeaning: "ì¢…ê²°ê³¼ ë³€í™”. ìƒˆë¡œìš´ ë¬¸ì´ ì—´ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.", enMeaning: "Ending and transition. A new door is opening." },
    { image: "ğŸ·", koName: "ì ˆì œ", enName: "Temperance", koMeaning: "ì¡°í™”ì™€ ì¸ë‚´. ê°ì •ì˜ ì¡°ì ˆì´ í•„ìš”í•œ ë‚ ì…ë‹ˆë‹¤.", enMeaning: "Balance and patience. Control your emotions." },
    { image: "ğŸ˜ˆ", koName: "ì•…ë§ˆ", enName: "The Devil", koMeaning: "êµ¬ì†ê³¼ ìœ í˜¹. ì¤‘ë…ì´ë‚˜ ë‚˜ìœ ìŠµê´€ì„ ê²½ê³„í•˜ì„¸ìš”.", enMeaning: "Bondage and temptation. Watch out for bad habits." },
    { image: "âš¡", koName: "íƒ‘", enName: "The Tower", koMeaning: "ë¶•ê´´ì™€ ì¶©ê²©. ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë³€í™”ê°€ ì„±ì¥ì„ ë•ìŠµë‹ˆë‹¤.", enMeaning: "Collapse and shock. Sudden change helps growth." },
    { image: "â­", koName: "ë³„", enName: "The Star", koMeaning: "í¬ë§ê³¼ ì˜ê°. ë‹¹ì‹ ì˜ ê¿ˆì´ ê³§ ì´ë£¨ì–´ì§ˆ ê²ƒì…ë‹ˆë‹¤.", enMeaning: "Hope and inspiration. Your dreams are coming true." },
    { image: "ğŸŒ™", koName: "ë‹¬", enName: "The Moon", koMeaning: "í˜¼ë€ê³¼ ë¶ˆì•ˆ. ì§„ì‹¤ì€ ì•ˆê°œ ì†ì— ìˆìŠµë‹ˆë‹¤.", enMeaning: "Confusion and anxiety. Truth is behind the fog." },
    { image: "â˜€ï¸", koName: "íƒœì–‘", enName: "The Sun", koMeaning: "ì„±ê³µê³¼ í™œë ¥. ëª¨ë“  ê²ƒì´ ë°ê³  ëª…í™•í•´ì§‘ë‹ˆë‹¤.", enMeaning: "Success and vitality. Everything becomes clear." },
    { image: "ğŸ””", koName: "ì‹¬íŒ", enName: "Judgement", koMeaning: "ë¶€í™œê³¼ ë³´ìƒ. ê³¼ê±°ì˜ ë…¸ë ¥ì´ ê²°ì‹¤ì„ ë§ºìŠµë‹ˆë‹¤.", enMeaning: "Rebirth and reward. Past efforts bear fruit." },
    { image: "ğŸŒ", koName: "ì„¸ê³„", enName: "The World", koMeaning: "ì™„ì„±ê³¼ í†µí•©. ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê³  ë§Œì¡±ì„ ëˆ„ë¦½ë‹ˆë‹¤.", enMeaning: "Completion and unity. You've reached your goal." }
  ];

  const DINNER_DATA = [
    { category: "korean", image: "ğŸ²", koName: "ê¹€ì¹˜ì°Œê°œ", enName: "Kimchi Stew", koReason: "í•œêµ­ì¸ì˜ ì†Œìš¸í‘¸ë“œ. ì–¼í°í•œ êµ­ë¬¼ì´ í”¼ë¡œë¥¼ ë‚ ë ¤ì¤ë‹ˆë‹¤.", enReason: "Korean soul food. Spicy broth relieves fatigue." },
    { category: "korean", image: "ğŸ¥“", koName: "ì‚¼ê²¹ì‚´", enName: "Samgyeopsal", koReason: "ë“ ë“ í•œ ë‹¨ë°±ì§ˆ ë³´ì¶©ê³¼ ì¦ê±°ìš´ íšŒì‹ ë©”ë‰´.", enReason: "Great for protein and social dining." },
    { category: "japanese", image: "ğŸ£", koName: "ì´ˆë°¥", enName: "Sushi", koReason: "ê¹”ë”í•˜ê³  ê³ ê¸‰ìŠ¤ëŸ¬ìš´ í•œ ë¼ê°€ í•„ìš”í•  ë•Œ.", enReason: "When you need a clean and premium meal." },
    { category: "western", image: "ğŸ", koName: "íŒŒìŠ¤íƒ€", enName: "Pasta", koReason: "ë¶€ë“œëŸ¬ìš´ í¬ë¦¼ì´ë‚˜ ìƒí¼í•œ í† ë§ˆí† ì˜ ì¡°í™”.", enReason: "Creamy or tomatoey delight." }
  ];

  const I18N = {
    ko: {
      brandTitle: "í–‰ìš´ì˜ ë„êµ¬í•¨", tarotTitle: "AI 3ì¹´ë“œ íƒ€ë¡œ", lottoTitle: "ë¡œë˜ ë²ˆí˜¸ ì¶”ì²¨",
      dinnerTitle: "ì €ë… ë©”ë‰´ ì¶”ì²œ", guideTitle: "ì§€ì‹ ê°€ì´ë“œ", historyTitle: "ìµœê·¼ ê¸°ë¡",
      revealBtn: "ğŸ”® ìš´ëª… í™•ì¸í•˜ê¸°", tarotResetBtn: "ğŸ§¹ ë‹¤ì‹œ ì„ íƒ",
      labelPast: "ê³¼ê±° / ìƒí™©", labelPresent: "í˜„ì¬ / ì¡°ì–¸", labelFuture: "ë¯¸ë˜ / ê²°ê³¼"
    },
    en: {
      brandTitle: "Lucky Toolbox", tarotTitle: "AI 3-Card Tarot", lottoTitle: "Lotto Draw",
      dinnerTitle: "Dinner Suggestion", guideTitle: "Guides", historyTitle: "Recent Draws",
      revealBtn: "ğŸ”® Reveal My Destiny", tarotResetBtn: "ğŸ§¹ Reset Selection",
      labelPast: "Past / Situation", labelPresent: "Present / Advice", labelFuture: "Future / Outcome"
    }
  };

  function applyLanguage() {
    const lang = currentLang;
    $("brandTitle").textContent = I18N[lang].brandTitle;
    $("tarotTitle").textContent = I18N[lang].tarotTitle;
    $("lottoTitle").textContent = I18N[lang].lottoTitle;
    $("dinnerTitle").textContent = I18N[lang].dinnerTitle;
    $("guideTitle").textContent = I18N[lang].guideTitle;
    $("historyTitle").textContent = I18N[lang].historyTitle;
    $("revealBtn").textContent = I18N[lang].revealBtn;
    $("tarotResetBtn").textContent = I18N[lang].tarotResetBtn;
    $("labelPast").textContent = I18N[lang].labelPast;
    $("labelPresent").textContent = I18N[lang].labelPresent;
    $("labelFuture").textContent = I18N[lang].labelFuture;
    $("langToggle").textContent = lang === "ko" ? "EN" : "KO";
  }

  // íƒ€ë¡œ ë°í¬ ì´ˆê¸°í™”
  function initTarotDeck() {
    const deck = $("tarotDeck");
    deck.innerHTML = "";
    selectedCards = [];
    $("revealBtn").disabled = true;
    $("tarotResultArea").classList.add("hidden");
    $("tarotDeck").classList.remove("hidden");
    $("tarotSub").classList.remove("hidden");

    for(let i=0; i<22; i++) {
      const card = document.createElement("div");
      card.className = "deck-card";
      card.onclick = () => selectCard(card, i);
      deck.appendChild(card);
    }
  }

  function selectCard(cardEl, index) {
    if (cardEl.classList.contains("selected")) return;
    if (selectedCards.length >= 3) return;

    selectedCards.push(index);
    cardEl.classList.add("selected");
    cardEl.setAttribute("data-order", selectedCards.length);

    if (selectedCards.length === 3) {
      $("revealBtn").disabled = false;
    }
  }

  $("revealBtn").onclick = () => {
    $("tarotDeck").classList.add("hidden");
    $("tarotSub").classList.add("hidden");
    $("tarotResultArea").classList.remove("hidden");

    // ëœë¤ìœ¼ë¡œ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” 3ì¥ì˜ ë°ì´í„° ì„ ì • (ì„ íƒí•œ ì¸ë±ìŠ¤ì™€ ë§¤í•‘)
    const shuffled = [...TAROT_DATA].sort(() => 0.5 - Math.random());
    const picked = shuffled.slice(0, 3);

    for(let i=0; i<3; i++) {
      const card = picked[i];
      const cardUI = $(`card${i}`);
      const front = cardUI.querySelector(".tarot-card-front");
      front.querySelector(".tarot-icon").textContent = card.image;
      front.querySelector(".tarot-name").textContent = currentLang === "ko" ? card.koName : card.enName;
      $(`meaning${i}`).textContent = currentLang === "ko" ? card.koMeaning : card.enMeaning;
      
      cardUI.classList.remove("flipped");
      setTimeout(() => cardUI.classList.add("flipped"), 200 * i + 100);
    }
  };

  $("tarotResetBtn").onclick = initTarotDeck;

  // ë·° ì „í™˜
  function openView(id) {
    document.querySelectorAll(".view").forEach(v => v.classList.add("hidden"));
    $(id).classList.remove("hidden");
    if(id === 'tarotView') initTarotDeck();
  }

  const openLottoView = () => openView("lottoView");
  $("tarotNav").onclick = () => openView("tarotView");
  $("dinnerNav").onclick = () => openView("dinnerView");
  $("animalNav").onclick = () => openView("animalView");

  // ë¡œë˜ ì¶”ì²¨
  $("drawBtn").onclick = () => {
    const nums = new Set();
    while(nums.size < 6) nums.add(Math.floor(Math.random()*45)+1);
    const sorted = [...nums].sort((a,b)=>a-b);
    const balls = $("balls");
    balls.innerHTML = "";
    sorted.forEach((n, i) => {
      const b = document.createElement("div");
      b.className = "ball " + (n<=10?"yellow":n<=20?"blue":n<=30?"red":n<=40?"gray":"green");
      b.textContent = n;
      b.style.animationDelay = (i*100)+"ms";
      balls.appendChild(b);
    });
    const history = document.createElement("div");
    history.style.fontSize = "13px";
    history.innerHTML = `[${new Date().toLocaleTimeString()}] <b>${sorted.join(", ")}</b>`;
    $("historyList").prepend(history);
  };

  // ë©”ë‰´ ì¶”ì²œ
  window.pickDinner = (cat) => {
    const list = cat === 'all' ? DINNER_DATA : DINNER_DATA.filter(d => d.category === cat);
    const item = list[Math.floor(Math.random()*list.length)];
    $("dinnerImage").textContent = item.image;
    $("dinnerMenu").textContent = currentLang === 'ko' ? item.koName : item.enName;
    $("dinnerReason").textContent = currentLang === 'ko' ? item.koReason : item.enReason;
  };

  // ê³µí†µ
  $("themeToggle").onclick = () => {
    document.body.classList.toggle("light");
    $("themeToggle").textContent = document.body.classList.contains("light") ? "ğŸŒ™" : "â˜€";
  };
  $("langToggle").onclick = () => {
    currentLang = currentLang === 'ko' ? 'en' : 'ko';
    localStorage.setItem("lang", currentLang);
    applyLanguage();
    if(!$("tarotResultArea").classList.contains("hidden")) {
       // ê²°ê³¼ í™”ë©´ ì¤‘ì´ë©´ ë‹¤ì‹œ ê·¸ë¦¬ê¸° (ê°„ë‹¨í•˜ê²Œ ì´ˆê¸°í™”ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ í…ìŠ¤íŠ¸ë§Œ ë³€ê²½ ê°€ëŠ¥)
    }
  };

  applyLanguage();
  initTarotDeck();
</script>
</body>
</html>
