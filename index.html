<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°, ì €ë…ë©”ë‰´ ì¶”ì²œ, ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸, ì˜¤ëŠ˜ì˜ íƒ€ë¡œì™€ í•¨ê»˜ í–‰ìš´ ê°€ì´ë“œë¥¼ ì œê³µí•˜ëŠ” ì •ë³´í˜• ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://koosb72-lab.github.io/product-build-week/" />
  <meta name="google-adsense-account" content="ca-pub-7981059984083694" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7981059984083694" crossorigin="anonymous"></script>
  <title>í–‰ìš´ì˜ ë„êµ¬í•¨ | Product Build Week</title>
  <style>
    :root{
      /* ===== ë‹¤í¬ëª¨ë“œ(ê¸°ë³¸) ===== */
      --bg1:#070a18;
      --bg2:#0b1020;
      --card: rgba(255,255,255,0.06);
      --line: rgba(255,255,255,0.14);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);
      --shadow: 0 14px 45px rgba(0,0,0,0.35);
      --radius: 18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", Arial, sans-serif;
      --primary: #7c5cff;
      --secondary: #2dd4bf;
    }

    body.light{
      --bg1:#f4f6fb;
      --bg2:#e9edf7;
      --card: rgba(255,255,255,0.92);
      --line: rgba(0,0,0,0.10);
      --text: rgba(0,0,0,0.88);
      --muted: rgba(0,0,0,0.60);
      --shadow: 0 10px 30px rgba(0,0,0,0.10);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0; min-height:100vh;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(124,92,255,0.35), transparent 55%),
        radial-gradient(900px 500px at 80% 20%, rgba(45,212,191,0.22), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2) 40%, var(--bg1));
      transition: background .25s ease, color .25s ease;
    }
    .container{ max-width: 980px; margin:0 auto; padding: 26px 16px 80px; }

    header{
      position: sticky; top:0; z-index: 10;
      padding: 14px 16px;
      backdrop-filter: blur(12px);
      background: rgba(6,8,22,0.55);
      border-bottom: 1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      transition: background .25s ease, border-color .25s ease;
    }
    body.light header{ background: rgba(255,255,255,0.70); }

    .brand{ display:flex; align-items:center; gap:10px; font-weight:900; letter-spacing:-0.4px; }
    .logo{
      width: 36px; height: 36px; border-radius: 12px;
      background: linear-gradient(135deg, #7c5cff, #2dd4bf);
      box-shadow: var(--shadow);
    }
    .chip{
      padding: 8px 10px; border: 1px solid var(--line); background: rgba(255,255,255,0.05);
      border-radius: 999px; font-size: 13px; color: var(--muted); text-decoration:none; cursor:pointer;
    }

    .theme-toggle{
      padding: 8px 10px; border: 1px solid var(--line); background: rgba(255,255,255,0.05);
      border-radius: 999px; font-size: 13px; color: var(--text); cursor: pointer;
      display:inline-flex; align-items:center; gap:8px;
    }
    body.light .theme-toggle{ background: rgba(0,0,0,0.04); }

    .card{
      margin-top: 18px; background: var(--card); border: 1px solid var(--line);
      border-radius: var(--radius); box-shadow: var(--shadow); padding: 18px;
    }

    h1{ margin: 0; font-size: 18px; }
    .sub{ margin: 8px 0 0; color: var(--muted); line-height: 1.7; font-size: 14px; }

    .controls{ display:flex; flex-wrap:wrap; gap:10px; margin-top: 14px; align-items:center; }
    .btn{
      border: 1px solid var(--line); background: rgba(255,255,255,0.06); color: var(--text);
      padding: 10px 12px; border-radius: 14px; cursor:pointer; font-weight: 750;
      transition: transform .15s ease, border-color .15s ease;
      display:inline-flex; align-items:center; gap:8px;
    }
    body.light .btn{ background: rgba(0,0,0,0.04); }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,0.28); }
    .btn.primary{ background: linear-gradient(135deg, rgba(124,92,255,0.9), rgba(45,212,191,0.5)); border-color: rgba(255,255,255,0.18); }

    .balls{ display:flex; flex-wrap:wrap; gap:10px; margin-top: 16px; min-height: 62px; align-items:center; }
    .ball{
      width: 52px; height: 52px; border-radius: 999px; display:flex; align-items:center; justify-content:center;
      font-weight: 900; border: 1px solid rgba(255,255,255,0.18); box-shadow: 0 10px 25px rgba(0,0,0,0.25);
      opacity: 0; transform: translateY(8px) scale(0.96); animation: pop .28s ease forwards;
      position: relative; overflow: hidden;
    }
    .ball::before{ content:""; position:absolute; inset: -10% -10% auto -10%; height: 55%; background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.0)); transform: rotate(-18deg); pointer-events:none; opacity: 0.45; }
    .ball.small { width: 42px; height: 42px; font-size: 14px; }
    @keyframes pop{ to { opacity: 1; transform: translateY(0) scale(1); } }
    .ball.yellow { background: #fbc400; color: #111; }
    .ball.blue   { background: #69c8f2; color: #111; }
    .ball.red    { background: #ff7272; color: #111; }
    .ball.gray   { background: #aaaaaa; color: #111; }
    .ball.green  { background: #b0d840; color: #111; }

    .view.hidden{ display:none; }

    /* íƒ€ë¡œ ìŠ¤íƒ€ì¼ */
    .tarot-stage { text-align: center; perspective: 1000px; }
    .tarot-card-wrap {
      width: 180px; height: 300px; margin: 30px auto;
      position: relative; transform-style: preserve-3d;
      transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
    }
    .tarot-card-wrap.flipped { transform: rotateY(180deg); }
    .tarot-card-front, .tarot-card-back {
      position: absolute; width: 100%; height: 100%;
      backface-visibility: hidden; border-radius: 12px;
      border: 2px solid var(--line); display: flex;
      flex-direction: column; align-items: center; justify-content: center;
      box-shadow: var(--shadow);
    }
    .tarot-card-front { background: linear-gradient(135deg, #1a1a2e, #16213e); transform: rotateY(180deg); }
    .tarot-card-back {
      background: linear-gradient(45deg, #2c3e50, #000);
      background-image: radial-gradient(circle at 50% 50%, rgba(124,92,255,0.2) 0%, transparent 50%),
                        repeating-linear-gradient(45deg, rgba(255,255,255,0.05) 0px, rgba(255,255,255,0.05) 2px, transparent 2px, transparent 10px);
    }
    .tarot-card-back::after { content: "âœ¨"; font-size: 40px; }
    .tarot-card-icon { font-size: 80px; margin-bottom: 15px; }
    .tarot-card-name { font-size: 20px; font-weight: 900; color: #ffd700; }
    .tarot-result-area { margin-top: 20px; opacity: 0; transition: opacity 0.5s ease; }
    .tarot-result-area.show { opacity: 1; }
    .tarot-meaning {
      font-size: 15px; line-height: 1.8; color: var(--text); text-align: left;
      background: rgba(255,255,255,0.03); padding: 20px; border-radius: 12px; border: 1px solid var(--line);
    }

    .dinner-card { text-align: center; }
    .history-item { border: 1px solid var(--line); background: rgba(255,255,255,0.04); border-radius: 16px; padding: 12px; display: flex; justify-content: space-between; align-items: center; margin-top: 10px; }
    
    .article-grid{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; margin-top: 12px; }
    .article-item{ border: 1px solid var(--line); border-radius: 14px; padding: 14px; background: rgba(255,255,255,0.03); }
    .article-item h2 { font-size: 16px; margin: 0; }
    .article-item p { font-size: 13px; color: var(--muted); margin: 8px 0; }
    .article-item a { color: var(--primary); text-decoration: none; font-weight: bold; }

    .site-footer{ margin-top: 18px; padding: 18px; border: 1px solid var(--line); border-radius: 14px; background: rgba(255,255,255,0.03); font-size: 13px; color: var(--muted); line-height: 1.8; }
    .footer-links{ display:flex; flex-wrap:wrap; gap:8px; margin-top: 8px; }
    .footer-links a{ color: var(--text); border:1px solid var(--line); border-radius: 999px; padding: 6px 10px; text-decoration:none; font-size: 12px; }
    @media (max-width: 860px){ .article-grid{ grid-template-columns: 1fr; } }
  </style>
</head>

<body>
<header>
  <div class="brand" onclick="openLottoView()" style="cursor:pointer;">
    <div class="logo" aria-hidden="true"></div>
    <div>
      <div id="brandTitle" style="font-size:14px;">í–‰ìš´ì˜ ë„êµ¬í•¨</div>
      <div id="brandSub" style="font-size:12px; color: var(--muted);">AIì™€ í•¨ê»˜í•˜ëŠ” í–‰ìš´ì˜ ì‹œì‘</div>
    </div>
  </div>
  <div style="display:flex; gap:8px; align-items:center;">
    <button class="chip" id="tarotBtn" type="button">ğŸ”® íƒ€ë¡œ</button>
    <button class="chip" id="dinnerBtn" type="button">ğŸ½ ì‹ì‚¬</button>
    <button class="chip" id="animalTestBtn" type="button">ğŸ¶ ë™ë¬¼ìƒ</button>
    <button class="chip" id="sajuBtn" type="button">ğŸ”® ì‚¬ì£¼</button>
    <button class="chip" id="langToggle" type="button">EN</button>
    <button class="theme-toggle" id="themeToggle" type="button">â˜€</button>
  </div>
</header>

<main class="container">
  <!-- ë¡œë˜ ë·° -->
  <div class="view" id="lottoView">
    <section class="card">
      <h1 id="lottoTitle">ì›í´ë¦­ ë¡œë˜ ë²ˆí˜¸ ë½‘ê¸°</h1>
      <p class="sub" id="lottoSub">1~45 ì‚¬ì´ì˜ ì¤‘ë³µ ì—†ëŠ” 6ê°œ ìˆ«ìë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
      <div class="controls">
        <button class="btn primary" id="drawBtn">ğŸ² ì¶”ì²¨í•˜ê¸°</button>
        <button class="btn" id="copyBtn">ğŸ“‹ ë²ˆí˜¸ ë³µì‚¬</button>
        <select id="sortMode" style="margin-left:auto; background:var(--card); color:var(--text); border:1px solid var(--line); border-radius:10px; padding:5px;">
          <option value="asc">ì˜¤ë¦„ì°¨ìˆœ</option>
          <option value="none">ë½‘ì€ ìˆœì„œ</option>
        </select>
      </div>
      <div class="balls" id="balls"></div>
    </section>
    <section class="card">
      <h1>ìµœê·¼ ì¶”ì²¨ ê¸°ë¡</h1>
      <div id="historyList"></div>
    </section>
  </div>

  <!-- íƒ€ë¡œ ë·° -->
  <div class="view hidden" id="tarotView">
    <section class="card tarot-stage">
      <h1 id="tarotTitle">ì˜¤ëŠ˜ì˜ í–‰ìš´ ì¹´ë“œ (AI íƒ€ë¡œ)</h1>
      <p class="sub">ë§ˆìŒì„ ê°€ë‹¤ë“¬ê³  ì¹´ë“œ í•œ ì¥ì„ ì„ íƒí•´ ë³´ì„¸ìš”.</p>
      <div class="tarot-card-wrap" id="tarotCardWrap">
        <div class="tarot-card-back"></div>
        <div class="tarot-card-front">
          <div class="tarot-card-icon" id="tarotFrontIcon"></div>
          <div class="tarot-card-name" id="tarotFrontName"></div>
        </div>
      </div>
      <div class="tarot-result-area" id="tarotResultArea">
        <div class="tarot-meaning" id="tarotMeaningBody"></div>
        <div class="controls" style="justify-content:center; margin-top:20px;">
          <button class="btn primary" id="tarotAgainBtn">ğŸ´ ë‹¤ë¥¸ ì¹´ë“œ ë½‘ê¸°</button>
          <button class="btn" onclick="openLottoView()">ğŸ² ë©”ì¸ìœ¼ë¡œ</button>
        </div>
      </div>
    </section>
  </div>

  <!-- ì €ë…ë©”ë‰´ ë·° -->
  <div class="view hidden" id="dinnerView">
    <section class="card dinner-card">
      <h1 id="dinnerTitle">ì˜¤ëŠ˜ ë­ ë¨¹ì§€?</h1>
      <div class="dinner-categories" style="display:flex; justify-content:center; gap:8px; margin:15px 0; flex-wrap:wrap;">
        <button class="chip" onclick="pickDinnerMenu('all')">ğŸ² ì „ì²´</button>
        <button class="chip" onclick="pickDinnerMenu('korean')">ğŸ‡°ğŸ‡· í•œì‹</button>
        <button class="chip" onclick="pickDinnerMenu('japanese')">ğŸ‡¯ğŸ‡µ ì¼ì‹</button>
        <button class="chip" onclick="pickDinnerMenu('western')">ğŸ‡ºğŸ‡¸ ì–‘ì‹</button>
      </div>
      <div id="dinnerImage" style="font-size:100px; margin:20px 0;">ğŸ½</div>
      <div id="dinnerMenu" style="font-size:28px; font-weight:900;">ì¶”ì²œì„ ì‹œì‘í•˜ì„¸ìš”</div>
      <p id="dinnerReason" style="color:var(--muted); line-height:1.6; max-width:500px; margin:15px auto;"></p>
      <button class="btn primary" onclick="pickDinnerMenu()">ğŸ”€ ë‹¤ì‹œ ì¶”ì²œ</button>
    </section>
  </div>

  <!-- ë™ë¬¼ìƒ ë·° -->
  <div class="view hidden" id="animalView">
    <section class="card" style="text-align:center;">
      <h1>ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ (AI)</h1>
      <p class="sub">ì–¼êµ´ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì—¬ ë¶„ì„í•©ë‹ˆë‹¤.</p>
      <input type="file" id="animalFileInput" accept="image/*" style="margin:20px 0;" />
      <div id="animalResult" style="font-size:22px; font-weight:900; margin:15px 0;"></div>
      <button class="btn primary" id="animalRunBtn">ğŸ” ë¶„ì„ ì‹œì‘</button>
    </section>
  </div>

  <!-- ì‚¬ì£¼ ë·° -->
  <div class="view hidden" id="sajuView">
    <section class="card">
      <h1>ê°„í¸ ì‚¬ì£¼ ì„±í–¥</h1>
      <div class="controls" style="flex-direction:column; align-items:flex-start;">
        <label>ì¶œìƒ ì—°ë„</label>
        <input type="number" id="birthYear" value="1995" style="padding:10px; width:100%; border-radius:10px; border:1px solid var(--line); background:var(--bg1); color:var(--text);" />
        <button class="btn primary" id="sajuRunBtn" style="margin-top:15px;">âœ¨ ê²°ê³¼ ë³´ê¸°</button>
      </div>
      <div id="sajuResult" style="margin-top:20px; line-height:1.8;"></div>
    </section>
  </div>

  <!-- ê°€ì´ë“œ ì„¹ì…˜ -->
  <section class="card" id="guides">
    <h1>ì§€ì‹ ê°€ì´ë“œ & ì•„í‹°í´</h1>
    <div class="article-grid">
      <article class="article-item">
        <h2>1) ë¡œë˜ì˜ ê³¼í•™</h2>
        <p>í™•ë¥ ê³¼ í†µê³„ë¡œ ë³¸ ë¡œë˜ì˜ ì§„ì‹¤.</p>
        <a href="./guide-lotto.html">ìì„¸íˆ ë³´ê¸° â†’</a>
      </article>
      <article class="article-item">
        <h2>2) ë©”ë‰´ ì„ íƒ ì‹¬ë¦¬í•™</h2>
        <p>ê²°ì • ì¥ì• ë¥¼ ê·¹ë³µí•˜ëŠ” ë²•.</p>
        <a href="./guide-dinner.html">ìì„¸íˆ ë³´ê¸° â†’</a>
      </article>
      <article class="article-item">
        <h2>3) AIì™€ ì´ë¯¸ì§€ ì¸ì‹</h2>
        <p>ë™ë¬¼ìƒ í…ŒìŠ¤íŠ¸ì˜ ì›ë¦¬.</p>
        <a href="./guide-animal-test.html">ìì„¸íˆ ë³´ê¸° â†’</a>
      </article>
      <article class="article-item">
        <h2>4) íƒ€ë¡œì™€ ìê¸° ì„±ì°°</h2>
        <p>ë¬´ì˜ì‹ì„ íˆ¬ì˜í•˜ëŠ” ì¹´ë“œì˜ ì§€í˜œ.</p>
        <a href="./guide-tarot.html">ìì„¸íˆ ë³´ê¸° â†’</a>
      </article>
    </div>
  </section>

  <footer class="site-footer">
    <div class="footer-links">
      <a href="./about.html">ì†Œê°œ</a>
      <a href="./contact.html">ë¬¸ì˜</a>
      <a href="./privacy.html">ê°œì¸ì •ë³´</a>
      <a href="./terms.html">ì•½ê´€</a>
    </div>
  </footer>
</main>

<div class="toast" id="toast" style="position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.8); color:#fff; padding:10px 20px; border-radius:20px; display:none; z-index:100;"></div>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
<script>
  const $ = (id) => document.getElementById(id);
  let currentLang = localStorage.getItem("lang") || "ko";

  const TAROT_DATA = [
    { image: "ğŸƒ", koName: "ë°”ë³´ (The Fool)", enName: "The Fool", koMeaning: "ìƒˆë¡œìš´ ì‹œì‘, ëª¨í—˜, ììœ ë¥¼ ìƒì§•í•©ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ê³ ì •ê´€ë…ì—ì„œ ë²—ì–´ë‚˜ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì— ë§ˆìŒì„ ì—´ì–´ë³´ì„¸ìš”.", enMeaning: "Symbolizes new beginnings, adventure, and freedom. Open your heart to new possibilities today." },
    { image: "ğŸª„", koName: "ë§ˆë²•ì‚¬ (The Magician)", enName: "The Magician", koMeaning: "ì°½ì˜ì„±, ìì‹ ê°, ì ì¬ë ¥ì„ ìƒì§•í•©ë‹ˆë‹¤. ë‹¹ì‹ ì—ê²ŒëŠ” ì›í•˜ëŠ” ê²ƒì„ ì´ë£° ì¶©ë¶„í•œ ëŠ¥ë ¥ì´ ìˆìŠµë‹ˆë‹¤.", enMeaning: "Represents creativity, confidence, and potential. You have the power to achieve your goals." },
    { image: "ğŸ“–", koName: "ì—¬ì‚¬ì œ (The High Priestess)", enName: "The High Priestess", koMeaning: "ì§ê´€, ì‹ ë¹„, ë‚´ë©´ì˜ ëª©ì†Œë¦¬ë¥¼ ìƒì§•í•©ë‹ˆë‹¤. ê²‰ìœ¼ë¡œ ë“œëŸ¬ë‚˜ëŠ” í˜„ìƒë³´ë‹¤ ìì‹ ì˜ ì§ê°ì„ ë¯¿ì–´ë³´ì„¸ìš”.", enMeaning: "Symbolizes intuition, mystery, and the inner voice. Trust your gut feeling today." },
    { image: "ğŸ‘‘", koName: "ì—¬í™©ì œ (The Empress)", enName: "The Empress", koMeaning: "í’ìš”, ëª¨ì„±, ìì—°ì˜ ê²°ì‹¤ì„ ìƒì§•í•©ë‹ˆë‹¤. ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ë”°ëœ»í•¨ì„ ë² í’€ê³  ì—ë„ˆì§€ë¥¼ ë°œì‚°í•˜ì„¸ìš”.", enMeaning: "Represents abundance, nurturing, and fertility. Share your warmth and energy with others." },
    { image: "ğŸ›ï¸", koName: "í™©ì œ (The Emperor)", enName: "The Emperor", koMeaning: "ê¶Œìœ„, ì§ˆì„œ, ë¦¬ë”ì‹­ì„ ìƒì§•í•©ë‹ˆë‹¤. ê³„íšì„ ì„¸ìš°ê³  ì²´ê³„ì ìœ¼ë¡œ í–‰ë™í•˜ì„¸ìš”.", enMeaning: "Symbolizes authority, structure, and leadership. Follow a solid plan today." },
    { image: "ğŸ¡", koName: "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´", enName: "Wheel of Fortune", koMeaning: "ë³€í™”ì™€ í–‰ìš´ì˜ ì „í™˜ì ì„ ìƒì§•í•©ë‹ˆë‹¤. ë‹¤ê°€ì˜¤ëŠ” ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.", enMeaning: "Symbolizes change and a turning point. Don't miss upcoming opportunities." }
  ];

  const DINNER_MENU = [
    { category: "korean", image: "ğŸ²", koName: "ê¹€ì¹˜ì°Œê°œ", enName: "Kimchi Stew", koReason: "í•œêµ­ì¸ì˜ ì†Œìš¸í‘¸ë“œ. ì¹¼ì¹¼í•œ êµ­ë¬¼ì´ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë‚ ë ¤ì¤ë‹ˆë‹¤.", enReason: "Korean soul food. Spicy broth relieves stress." },
    { category: "korean", image: "ğŸ¥“", koName: "ì‚¼ê²¹ì‚´", enName: "Samgyeopsal", koReason: "ë“ ë“ í•œ ë‹¨ë°±ì§ˆ ë³´ì¶©ê³¼ ì¦ê±°ìš´ íšŒì‹ì˜ ì •ì„.", enReason: "Great for protein and social dining." },
    { category: "japanese", image: "ğŸ£", koName: "ì´ˆë°¥", enName: "Sushi", koReason: "ê¹”ë”í•˜ê³  ê³ ê¸‰ìŠ¤ëŸ¬ìš´ í•œ ë¼ë¥¼ ì›í•  ë•Œ ì¶”ì²œí•©ë‹ˆë‹¤.", enReason: "Perfect for a clean and premium meal." },
    { category: "western", image: "ğŸ", koName: "íŒŒìŠ¤íƒ€", enName: "Pasta", koReason: "ë¶€ë“œëŸ¬ìš´ í¬ë¦¼ì´ë‚˜ ìƒí¼í•œ í† ë§ˆí† ì˜ ì¡°í™”.", enReason: "Creamy or tomatoey delight for your taste buds." }
  ];

  function toast(msg) {
    const t = $("toast"); t.textContent = msg; t.style.display = "block";
    setTimeout(() => t.style.display = "none", 2000);
  }

  // ë·° ì „í™˜
  function openView(id) {
    document.querySelectorAll(".view").forEach(v => v.classList.add("hidden"));
    $(id).classList.remove("hidden");
  }
  const openLottoView = () => openView("lottoView");
  $("tarotBtn").onclick = () => { openView("tarotView"); resetTarot(); };
  $("dinnerBtn").onclick = () => openView("dinnerView");
  $("animalTestBtn").onclick = () => openView("animalView");
  $("sajuBtn").onclick = () => openView("sajuView");

  // ë¡œë˜
  $("drawBtn").onclick = () => {
    const nums = new Set();
    while(nums.size < 6) nums.add(Math.floor(Math.random()*45)+1);
    const sorted = $("sortMode").value === 'asc' ? [...nums].sort((a,b)=>a-b) : [...nums];
    const container = $("balls");
    container.innerHTML = "";
    sorted.forEach((n, i) => {
      const b = document.createElement("div");
      b.className = "ball " + (n<=10?"yellow":n<=20?"blue":n<=30?"red":n<=40?"gray":"green");
      b.textContent = n;
      b.style.animationDelay = (i*100)+"ms";
      container.appendChild(b);
    });
    addHistory(sorted);
  };

  function addHistory(nums) {
    const div = document.createElement("div");
    div.className = "history-item";
    div.innerHTML = `<span># ${new Date().toLocaleTimeString()}</span> <b>${nums.join(", ")}</b>`;
    $("historyList").prepend(div);
  }

  // íƒ€ë¡œ
  function resetTarot() {
    $("tarotCardWrap").classList.remove("flipped");
    $("tarotResultArea").classList.remove("show");
    $("tarotCardWrap").style.pointerEvents = "auto";
  }
  $("tarotCardWrap").onclick = () => {
    const card = TAROT_DATA[Math.floor(Math.random()*TAROT_DATA.length)];
    $("tarotFrontIcon").textContent = card.image;
    $("tarotFrontName").textContent = currentLang==='ko'?card.koName:card.enName;
    $("tarotMeaningBody").textContent = currentLang==='ko'?card.koMeaning:card.enMeaning;
    $("tarotCardWrap").classList.add("flipped");
    $("tarotCardWrap").style.pointerEvents = "none";
    setTimeout(() => $("tarotResultArea").classList.add("show"), 600);
  };
  $("tarotAgainBtn").onclick = resetTarot;

  // ë©”ë‰´
  function pickDinnerMenu(cat = 'all') {
    const list = cat==='all' ? DINNER_MENU : DINNER_MENU.filter(m=>m.category===cat);
    const item = list[Math.floor(Math.random()*list.length)];
    $("dinnerImage").textContent = item.image;
    $("dinnerMenu").textContent = currentLang==='ko'?item.koName:item.enName;
    $("dinnerReason").textContent = currentLang==='ko'?item.koReason:item.enReason;
  }

  // ì‚¬ì£¼
  $("sajuRunBtn").onclick = () => {
    const year = $("birthYear").value;
    const animals = ["ì›ìˆ­ì´","ë‹­","ê°œ","ë¼ì§€","ì¥","ì†Œ","í˜¸ë‘ì´","í† ë¼","ìš©","ë±€","ë§","ì–‘"];
    const animal = animals[year % 12];
    $("sajuResult").innerHTML = `ë‹¹ì‹ ì€ <b>${year}ë…„ìƒ ${animal}ë </b>ì´ì‹œêµ°ìš”! <br>ì˜¤ëŠ˜ì€ ìƒˆë¡œìš´ ë„ì „ì„ í•˜ê¸°ì— ë§¤ìš° ì¢‹ì€ ê¸°ìš´ì´ íë¥´ê³  ìˆìŠµë‹ˆë‹¤. ìì‹ ê°ì„ ê°€ì§€ê³  ë‚˜ì•„ê°€ì„¸ìš”.`;
  };

  // ë™ë¬¼ìƒ (ê°„ë‹¨ êµ¬í˜„)
  $("animalRunBtn").onclick = async () => {
    const file = $("animalFileInput").files[0];
    if(!file) return toast("ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
    toast("AI ë¶„ì„ ì¤‘...");
    setTimeout(() => {
      const results = ["ê°•ì•„ì§€ìƒ", "ê³ ì–‘ì´ìƒ", "í† ë¼ìƒ", "ê³µë£¡ìƒ", "ê³°ìƒ"];
      $("animalResult").textContent = "ë¶„ì„ ê²°ê³¼: " + results[Math.floor(Math.random()*results.length)];
    }, 1500);
  };

  // í…Œë§ˆ & ì–¸ì–´
  $("themeToggle").onclick = () => {
    document.body.classList.toggle("light");
    $("themeToggle").textContent = document.body.classList.contains("light") ? "ğŸŒ™" : "â˜€";
  };
  $("langToggle").onclick = () => {
    currentLang = currentLang === 'ko' ? 'en' : 'ko';
    localStorage.setItem("lang", currentLang);
    location.reload();
  };
</script>
</body>
</html>
